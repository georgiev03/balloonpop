import"./modulepreload-polyfill-B5Qt9EMX.js";class a{constructor(e="game-container"){this.container=document.getElementById(e),this.isFullscreen=!1,this.setupEventListeners()}setupEventListeners(){screen.orientation?screen.orientation.addEventListener("change",()=>this.handleOrientationChange()):window.addEventListener("orientationchange",()=>this.handleOrientationChange()),window.addEventListener("resize",()=>this.handleResize()),document.addEventListener("fullscreenchange",()=>this.handleFullscreenChange()),document.addEventListener("webkitfullscreenchange",()=>this.handleFullscreenChange()),document.addEventListener("mozfullscreenchange",()=>this.handleFullscreenChange()),document.addEventListener("MSFullscreenChange",()=>this.handleFullscreenChange()),this.checkOrientation()}async handleOrientationChange(){await new Promise(e=>setTimeout(e,100)),this.checkOrientation()}handleResize(){this.checkOrientation()}async checkOrientation(){this.isLandscapeMode()&&!this.isFullscreen&&await this.enterFullscreen()}isLandscapeMode(){return screen.orientation?screen.orientation.type.includes("landscape"):window.orientation!==void 0?Math.abs(window.orientation)===90:window.innerWidth>window.innerHeight}async requestFullscreen(){return this.enterFullscreen()}async enterFullscreen(){if(!document.fullscreenElement)try{const e=this.container||document.documentElement;return e.requestFullscreen?await e.requestFullscreen():e.webkitRequestFullscreen?await e.webkitRequestFullscreen():e.mozRequestFullScreen?await e.mozRequestFullScreen():e.msRequestFullscreen&&await e.msRequestFullscreen(),this.isFullscreen=!0,!0}catch(e){return console.warn("Fullscreen request failed:",e),!1}return!0}exitFullscreen(){document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()),this.isFullscreen=!1}handleFullscreenChange(){this.isFullscreen=!!document.fullscreenElement;const e=new CustomEvent("fullscreenchange",{detail:{isFullscreen:this.isFullscreen}});window.dispatchEvent(e)}}function s(n){n.preventDefault()}document.addEventListener("touchmove",s,{passive:!1});document.addEventListener("touchstart",s,{passive:!1});document.addEventListener("touchend",s,{passive:!1});document.addEventListener("scroll",s,{passive:!1});document.addEventListener("wheel",s,{passive:!1});let l=0;document.addEventListener("touchend",n=>{const e=Date.now();e-l<=300&&n.preventDefault(),l=e},{passive:!1});if(screen.orientation&&screen.orientation.lock)try{screen.orientation.lock("landscape")}catch{console.log("Orientation lock not supported")}new a("game-container");const c=document.getElementById("rotation-prompt"),o=document.getElementById("install-prompt"),d=document.getElementById("install-button");let t;window.addEventListener("beforeinstallprompt",n=>{n.preventDefault(),t=n,o.style.display="block"});d.addEventListener("click",async()=>{if(t){t.prompt();const{outcome:n}=await t.userChoice;n==="accepted"&&(o.style.display="none"),t=null}});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(n=>{console.log("ServiceWorker registration successful")}).catch(n=>{console.log("ServiceWorker registration failed: ",n)})});function i(){window.innerWidth>window.innerHeight?c.style.display="none":c.style.display="flex"}window.addEventListener("resize",i);window.addEventListener("orientationchange",()=>{setTimeout(i,100)});i();const r=document.createElement("script");r.src="dist/bundle.js";r.type="module";document.body.appendChild(r);
//# sourceMappingURL=mobile-9chSxeQl.js.map
